import{ap as v,aG as m,ax as r,ae as b,aH as E,aI as y,af as i,cx as Y,aV as d,Z as T,cy as F,aj as f,am as x,as as _,av as $,aA as c,G as s,aq as O,aO as S,aP as C,cz as U,cA as j,L as H,aw as A,h as B,az as k,aJ as P,cB as G}from"./_virtual_wxt-plugins-CgS_BGdF.js";import{f as K,b as X,d as q}from"./tailwind-C6GlUj0q.js";import{a as J,s as W}from"./birth-year-prompt-utils-BdmaBzBB.js";import{g as Z}from"./extension-url-Dkf82Rp_.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ee={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function te(a,t){return m(),v("svg",ee,t[0]||(t[0]=[r("path",{fill:"currentColor",d:"M13.46 12L19 17.54V19h-1.46L12 13.46L6.46 19H5v-1.46L10.54 12L5 6.46V5h1.46L12 10.54L17.54 5H19v1.46z"},null,-1)]))}const se={name:"mdi-window-close",render:te},ne={class:"relative sm:fixed sm:rounded-t-lg sm:border-t sm:border-l sm:border-r border-base-300 sm:border-solid left-0 right-0 bottom-0 bg-base-200 md:w-[70%] mx-auto inline-flex sm:items-center justify-center flex-col sm:flex-row gap-3 p-3 w-full"},D=b({__name:"PromptContainer",emits:["clickDismiss"],setup(a,{emit:t}){const n=t;return(e,o)=>(m(),v("div",ne,[E(e.$slots,"body"),y(i(se),{width:"20",class:"btn-close absolute right-2 cursor-pointer","data-testid":"close-prompting",onClick:o[0]||(o[0]=l=>n("clickDismiss"))})]))}}),L=Y("prompt-birth-year",()=>{const{state:a}=d(T),{state:t}=d(F),n=f(()=>a.value==null&&t.value&&t.value<=Date.now());async function e(){await J()}function o(l){a.value=l}return{isVisible:n,dismiss:e,submitAge:o}}),ie={"data-testid":"prompting-birth-year"},oe={class:"prompt-description text-sm text-base-content"},re={class:"input-block flex gap-2 sm:items-center"},ae={class:"prompt-title text-sm font-bold",for:"birthYear"},le=["data-tip"],ce=b({__name:"PromptBirthYear",setup(a){const t=L(),n=x(),e=x(),o=f(()=>!e.value),l=f(()=>!n.value),p=f(()=>!l.value&&new Date().getFullYear()-n.value<100),N=f(()=>!l.value&&n.value<new Date().getFullYear());function R(u){e.value=void 0,u.target.value.length>4&&(n.value=u.target.value.slice(0,-1)),u.target.value.length==4&&h()}function h(){return l.value?(e.value=s("birthYearErrorsNan"),!1):n.value<1e3?(e.value=s("birthYearErrorsLength"),!1):p.value?N.value?!0:(e.value=s("birthYearErrorsAgeMin"),!1):(e.value=s("birthYearErrorsAgeMax"),!1)}function g(){h()&&n.value&&t.submitAge(n.value)}async function I(){await t.dismiss()}return(u,w)=>{const z=D;return m(),_(z,{onClickDismiss:I},{body:$(()=>[r("div",ie,[r("p",oe,c(("t"in u?u.t:i(s))("askBirthYearTitle")),1),r("div",re,[r("label",ae,c(("t"in u?u.t:i(s))("askBirthYear")),1),r("div",{class:O(["tooltip-open tooltip-error",{tooltip:!i(o)}]),"data-tip":i(e)},[S(r("input",{type:"number",class:"prompt-input input input-bordered input-xs w-24",maxlength:"4",placeholder:"YYYY","onUpdate:modelValue":w[0]||(w[0]=M=>C(n)?n.value=M:null),onInput:R,onKeyup:K(g,["enter"])},null,544),[[X,i(n)]])],10,le),r("button",{class:"btn-submit btn btn-primary btn-xs",onClick:g},c(("t"in u?u.t:i(s))("submit")),1)])])]),_:1})}}}),V=Y("prompt-review",()=>{const{state:a}=d(U),{state:t}=d(j),n=f(()=>!a.value&&t.value&&t.value<=Date.now());async function e(){await W()}function o(){a.value=!0,window.open(H.ReviewLink)}return{isVisible:n,dismiss:e,submitReview:o}}),ue={"data-testid":"prompting-review"},me={class:"prompt-title text-sm"},pe=b({__name:"PromptReview",setup(a){const t=V();async function n(){await t.dismiss()}return(e,o)=>{const l=D;return m(),_(l,{onClickDismiss:n},{body:$(()=>[r("div",ue,[r("strong",me,c(("t"in e?e.t:i(s))("reviewExtensionAsk")),1),r("button",{class:"btn-submit btn btn-primary btn-outline btn-xs ms-3",onClick:o[0]||(o[0]=(...p)=>i(t).submitReview&&i(t).submitReview(...p))},c(("t"in e?e.t:i(s))("reviewExtensionPrompt")),1)])]),_:1})}}}),De=b({__name:"Prompts",setup(a){const t=V(),n=L();return(e,o)=>{const l=pe,p=ce;return i(t).isVisible?(m(),_(l,{key:0})):i(n).isVisible?(m(),_(p,{key:1})):A("",!0)}}}),de={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function fe(a,t){return m(),v("svg",de,t[0]||(t[0]=[r("path",{fill:"currentColor",d:"m16.56 5.44l-1.45 1.45A5.97 5.97 0 0 1 18 12a6 6 0 0 1-6 6a6 6 0 0 1-6-6c0-2.17 1.16-4.06 2.88-5.12L7.44 5.44A7.96 7.96 0 0 0 4 12a8 8 0 0 0 8 8a8 8 0 0 0 8-8c0-2.72-1.36-5.12-3.44-6.56M13 3h-2v10h2"},null,-1)]))}const ve={name:"mdi-power",render:fe},be={class:"p-5 flex flex-col"},_e={class:"flex flex-col items-center justify-center h-full"},he={class:"text-base-content font-semibold text-base"},ge={class:"my-0 text-info"},we={class:"text-center overflow-hidden"},xe=["href"],Le=b({__name:"PopupDeactivated",setup(a){const{state:t}=d(B);function n(){t.value=!0,P.track("ENABLE_EXTENSION")}return(e,o)=>(m(),v("div",be,[r("div",_e,[r("p",he,c(("t"in e?e.t:i(s))("deactivated")),1),r("p",ge,c(("t"in e?e.t:i(s))("clickToEnable")),1),y(i(ve),{class:"h-16 w-16 cursor-pointer hover:text-primary",onClick:o[0]||(o[0]=l=>n())})]),r("p",we,[k(c(("t"in e?e.t:i(s))("visitCustomize1"))+" ",1),r("a",{class:"clickable link link-secondary",href:("getOptionsPage"in e?e.getOptionsPage:i(Z))("settings"),onClick:o[1]||(o[1]=l=>n()),target:"_blank"},c(("t"in e?e.t:i(s))("visitCustomize2")),9,xe),k(" "+c(("t"in e?e.t:i(s))("visitCustomize3")),1)])]))}}),ke={},Ee={class:"badge mr-1 text-red-600 text-xs"};function ye(a,t){return m(),v("span",Ee,c(("t"in a?a.t:i(s))("new")),1)}const Ve=Q(ke,[["render",ye]]);function Ye(){return!confirm(s("areYouSure"))||!confirm(s("disableExtension1"))||!confirm(s("disableExtension2"))||!confirm(s("disableExtension3"))||!confirm(s("disableExtension4"))||!confirm(s("disableExtension5"))||!confirm(s("disableExtension6"))||!confirm(s("disableExtension7"))||!confirm(s("disableExtension8"))||!confirm(s("disableFinalWarning"))?!1:(alert(s("extensionDisabled")),!0)}const $e={key:0,class:"inline-block items-center gap-4 align-text-top"},Ne=b({__name:"ActiveToggle",setup(a){const{state:t}=d(B),{state:n}=d(G);function e(o){o.target.checked==!1&&Ye()?(t.value=!1,P.track("DISABLE_EXTENSION")):t.value=!0}return(o,l)=>i(n)?(m(),v("div",$e,[r("label",null,[S(r("input",{type:"checkbox",class:"toggle toggle-sm toggle-primary","onUpdate:modelValue":l[0]||(l[0]=p=>C(t)?t.value=p:null),onChange:e},null,544),[[q,i(t)]]),E(o.$slots,"default")])])):A("",!0)}});export{Ne as _,Ve as a,De as b,Le as c};
