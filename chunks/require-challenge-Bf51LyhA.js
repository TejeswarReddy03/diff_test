import{_ as N}from"./HeaderItem-B9YPjTpp.js";import{ae as U,G as a,aj as d,aV as C,dn as V,ck as B,am as D,an as H,ap as x,aG as k,aq as I,af as n,ax as t,aO as b,az as g,aA as s,aP as v,aJ as T,aI as _,av as A}from"./_virtual_wxt-plugins-CgS_BGdF.js";import{d as G,b as z}from"./tailwind-C6GlUj0q.js";import{a as $,p as E}from"./challenge-text-COcquVOs.js";import{u as j}from"./useChallengeStore-Bddti5TS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./options-CWXM4w2v.js";const M={class:"italic"},Q={class:"cursor-pointer label justify-start mt-2 mb-2"},F={class:"label-text"},J={class:"font-bold text-lg"},O={class:"mt-5 mb-4"},P={class:"mt-4"},W={class:"mt-8"},X=U({__name:"RequireChallenge",setup(q){const o=a("defaultRequireChallengeText"),p=d(()=>decodeURIComponent(o).length),u=j(),{state:c}=C(V),{state:i}=C(B),R=d(()=>u.isShowChallenge),l=D(""),S=d(()=>l.value.length>=p.value);H(i,e=>{e?l.value=decodeURIComponent(e):h()}),h();function h(){(!i.value||i.value=="")&&(l.value=o)}function w(){if(!S.value){alert(a("challengeTextTooShort",[o.length.toString()]));return}if(!$(l.value)){alert(a("notEnoughVariation"));return}i.value=E(l.value),alert(a("requireChallengeTextHasBeenSet")),T.track("CHANGE_TEXT_REQUIRE_CHALLENGE")}function f(){h(),i.value=E(l.value),c.value&&T.track("ENABLE_REQUIRE_CHALLENGE")}function y(){l.value=o,alert(a("requireChallengeTextHasBeenSet"))}function L(){f(),u.showTestChallenge()}return(e,r)=>(k(),x("div",{class:I({"pointer-events-none opacity-50":n(R)})},[t("div",M,[t("p",null,[g(s(("t"in e?e.t:n(a))("wantToTestRequireChallenge"))+" ",1),t("button",{class:"text-orange-700 underline cursor-pointer",onClick:L,"data-testid":"show-test-challenge"},s(("t"in e?e.t:n(a))("clickHere")),1),r[2]||(r[2]=g(". "))])]),t("label",Q,[b(t("input",{type:"checkbox","onUpdate:modelValue":r[0]||(r[0]=m=>v(c)?c.value=m:null),onChange:f,class:"checkbox checkbox-sm checkbox-primary mr-2"},null,544),[[G,n(c)]]),t("span",F,s(("t"in e?e.t:n(a))("enableRequireChallenge")),1)]),t("p",J,s(("t"in e?e.t:n(a))("customizeChallengeText")),1),t("p",O,s(("t"in e?e.t:n(a))("enterChallengeText")),1),b(t("textarea",{"onUpdate:modelValue":r[1]||(r[1]=m=>v(l)?l.value=m:null),"data-testid":"custom-challenge",class:"textarea textarea-bordered w-full h-32"},null,512),[[z,n(l)]]),t("div",P,[t("button",{class:"btn btn-primary btn-sm uppercase",onClick:w,"data-testid":"set-custom-challenge"},s(("t"in e?e.t:n(a))("setCustomText")),1),t("button",{class:"btn btn-ghost btn-sm uppercase ml-2",onClick:y},s(("t"in e?e.t:n(a))("resetToDefault")),1)]),t("p",W,[t("small",null,s(("t"in e?e.t:n(a))("beWarnedRequireChallenge")),1)])],2))}}),K={class:"flex flex-col"},Y={class:"mt-4"},oe={__name:"require-challenge",setup(q){return(o,p)=>{const u=N;return k(),x("div",K,[_(u,null,{default:A(()=>[g(s(("t"in o?o.t:n(a))("requireChallenge")),1)]),_:1}),t("p",null,s(("t"in o?o.t:n(a))("requireChallengeDescription")),1),t("div",Y,[_(X)])])}}};export{oe as default};
