import{v as R,d as _,b as te}from"./tailwind-C6GlUj0q.js";import{ae as F,am as U,an as L,dp as I,ap as D,aG as V,ay as W,ax as n,aO as g,af as t,aA as a,G as o,aP as f,aV as y,A as ne,aC as se,aI as m,aH as j,aj as P,d9 as oe,n as ae,aY as ie,cm as le,dq as re,cB as ue,X as ce,cF as de,aM as pe,av as l,az as c,aq as B,aJ as N,g as me,T as ve}from"./_virtual_wxt-plugins-CgS_BGdF.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as be}from"./HeaderItem-B9YPjTpp.js";import{i as ge}from"./panel-api.proxy-D7BNGUXX.js";import{u as fe}from"./useGetNuclearTimerQuery-CbANNXdz.js";import{b as ye}from"./useConfirmationStore-CrGQIQTN.js";import{u as Se}from"./useChallengeStore-Bddti5TS.js";import"./options-CWXM4w2v.js";const ke=["value"],Te={value:"sec"},we={value:"min"},Ce={class:"ml-3"},Ae=F({__name:"NotificationItemSettings",props:{time:{},index:{}},emits:["changeTime"],setup(A,{emit:h}){const p=A,S=h,d=U(),r=U(0);L(()=>p.time,i=>{d.value=v(),r.value=k(i)}),d.value=v(),r.value=k(p.time);function v(){return p.time<60?"sec":"min"}function k(i){if(i!=0)return i>=60&&(i=i%I.Minute>0?Number((i/I.Minute).toFixed(2)):i/I.Minute),i}function T(i){i.target.value>I.Day&&(i.target.value=I.Hour)}function w(i){r.value=Number(i.target.value),O()}function O(){switch(r.value||(r.value=0),d.value){case"min":S("changeTime",r.value*I.Minute,p.index);break;case"sec":S("changeTime",r.value,p.index);break}}return(i,M)=>(V(),D(W,null,[n("input",{type:"number",min:"0",class:"input input-sm input-bordered w-20",value:t(r),onInput:T,onChange:w},null,40,ke),g(n("select",{class:"select select-sm select-bordered w-40 ml-3","onUpdate:modelValue":M[0]||(M[0]=$=>f(d)?d.value=$:null),onChange:O},[n("option",Te,a(("t"in i?i.t:t(o))("seconds")),1),n("option",we,a(("t"in i?i.t:t(o))("minutes")),1)],544),[[R,t(d)]]),n("span",Ce,a(("t"in i?i.t:t(o))("remaining")),1)],64))}}),Ne=F({__name:"NotificationsSettings",setup(A){const{state:h}=y(ne),p=U([]);p.value=h.value??[],L(h,r=>{p.value=r??[]});function S(r,v){p.value[v]=r}function d(){h.value=Array.from(p.value)}return(r,v)=>{const k=Ae;return V(),D(W,null,[(V(!0),D(W,null,se(t(h),(T,w)=>(V(),D("div",{class:"mt-3",key:w},[m(k,{time:T,index:w,onChangeTime:S},null,8,["time","index"])]))),128)),n("button",{class:"btn btn-primary btn-sm mt-4 uppercase block","data-testid":"saveTimeForAllWebsitesBtn",onClick:d},a(("t"in r?r.t:t(o))("saveNotifications")),1)],64)}}}),Oe={},_e={class:"font-bold text-lg"},Ie={class:"text-base leading-6 mt-3"};function Ue(A,h){return V(),D("div",null,[n("p",_e,[j(A.$slots,"header")]),n("p",Ie,[j(A.$slots,"description")]),j(A.$slots,"option")])}const De=he(Oe,[["render",Ue]]),Ve=["data-tip"],Me={class:"label-text"},Pe={value:"auto"},Le={value:"light"},$e={value:"dark"},Ee={class:"cursor-pointer label justify-start mt-2"},He={class:"label-text"},je={class:"cursor-pointer label justify-start mt-2"},Be={class:"label-text"},We={class:"cursor-pointer label justify-start mt-2"},Fe={class:"label-text"},Ge={class:"cursor-pointer label justify-start mt-2"},Re={class:"label-text"},qe=["placeholder"],ze={class:"cursor-pointer label justify-start mt-2"},Ke=["value"],Je={class:"label-text"},ot=F({__name:"settings",setup(A){const h=Se(),p=P(()=>h.isShowChallenge),{state:S}=y(oe),{state:d}=y(ae),{state:r}=y(ie),{state:v}=y(le),{state:k}=y(re),{state:T}=y(ue),{state:w}=y(ce),{state:O}=y(de),i=U();L(T,e=>{i.value=!e}),L(v,()=>{C.value=E.value});const M=ye(),$=ge(),C=U();function q(e){e.target.checked?M.show({title:o("genericConfirmation"),message:o("dataCollectionConfirmMessage"),positiveButtonText:o("continue"),negativeButtonText:o("cancel"),destructive:!0,async onClickPositive(){return C.value=!0,E.value=!0,N.track("OPT_OUT_DATA_COLLECTION"),!0},async onClickNegative(){return C.value=!1,!0}}):(C.value=!1,E.value=!1)}const E=P({get(){return v.value!=null?!v.value:!0},async set(e){return v.value=!e,await $.optOut({installId:await me(),optOut:e}),!0}});function z(){T.value=!i.value,T.value?N.track("SHOW_ACTIVATION_SWITCH"):N.track("HIDE_ACTIVATION_SWITCH")}function K(){r.value?N.track("HIDE_ALLOW_LINKS"):N.track("SHOW_ALLOW_LINKS")}function J(){d.value?N.track("NEVER_SHOW_UPDATE_NOTICES"):N.track("SHOW_UPDATE_NOTICES")}const{data:Q}=fe(),{groups:X}=pe(),H=U(!1),Y=P(()=>!!Q.value),Z=P(()=>{var e;return(e=X.value)==null?void 0:e.some(s=>s.timeLeftMs<ve.Second)}),G=P(()=>!T.value&&(Y.value||Z.value));return(e,s)=>{const x=be,b=De,ee=Ne;return V(),D("div",{class:B(["flex flex-col",{"pointer-events-none opacity-50":p.value}])},[m(x,null,{default:l(()=>[c(a(("t"in e?e.t:t(o))("customize")),1)]),_:1}),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(o))("activateSwitches")),1)]),description:l(()=>[c(a(("t"in e?e.t:t(o))("hideSwitchDescription")),1)]),option:l(()=>[n("div",{class:B(["tooltip-open tooltip-warning tooltip-right",{tooltip:G.value&&t(H)}]),onMouseover:s[1]||(s[1]=u=>H.value=!0),onMouseleave:s[2]||(s[2]=u=>H.value=!1),"data-tip":("t"in e?e.t:t(o))("hideSwitchDisabled")},[n("label",{class:B(["cursor-pointer label justify-start mt-2",{"pointer-events-none opacity-50":G.value}])},[g(n("input",{type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=u=>f(i)?i.value=u:null),onChange:z,class:"checkbox checkbox-sm checkbox-primary mr-2"},null,544),[[_,t(i)]]),n("span",Me,a(("t"in e?e.t:t(o))("hideSwitch")),1)],2)],42,Ve)]),_:1}),s[10]||(s[10]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(o))("theme")),1)]),option:l(()=>[g(n("select",{class:"join-item select select-primary select-bordered min-w-0","onUpdate:modelValue":s[3]||(s[3]=u=>f(O)?O.value=u:null)},[n("option",Pe,a(("t"in e?e.t:t(o))("theme_auto")),1),n("option",Le,a(("t"in e?e.t:t(o))("theme_light")),1),n("option",$e,a(("t"in e?e.t:t(o))("theme_dark")),1)],512),[[R,t(O)]])]),_:1}),s[11]||(s[11]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(o))("syncOption")),1)]),description:l(()=>[c(a(("t"in e?e.t:t(o))("syncOptionDescription")),1)]),option:l(()=>[n("label",Ee,[g(n("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=u=>f(S)?S.value=u:null),class:"checkbox checkbox-sm checkbox-primary mr-2"},null,512),[[_,t(S)]]),n("span",He,a(("t"in e?e.t:t(o))("disableSync")),1)])]),_:1}),s[12]||(s[12]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(o))("trackTabsPlayingAudio")),1)]),option:l(()=>[n("label",je,[g(n("input",{type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=u=>f(w)?w.value=u:null),class:"checkbox checkbox-sm checkbox-primary mr-2"},null,512),[[_,t(w)]]),n("span",Be,a(("t"in e?e.t:t(o))("trackTabsPlayingAudioDescription")),1)])]),_:1}),s[13]||(s[13]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(o))("updateNoticesOption")),1)]),description:l(()=>[c(a(("t"in e?e.t:t(o))("updateNoticesOptionDescription")),1)]),option:l(()=>[n("label",We,[g(n("input",{type:"checkbox","onUpdate:modelValue":s[6]||(s[6]=u=>f(d)?d.value=u:null),onChange:J,class:"checkbox checkbox-sm checkbox-primary mr-2"},null,544),[[_,t(d)]]),n("span",Fe,a(("t"in e?e.t:t(o))("neverShowUpdateNotices")),1)])]),_:1}),s[14]||(s[14]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(o))("popup")),1)]),option:l(()=>[n("label",Ge,[g(n("input",{type:"checkbox","onUpdate:modelValue":s[7]||(s[7]=u=>f(r)?r.value=u:null),onChange:K,class:"checkbox checkbox-sm checkbox-primary mr-2"},null,544),[[_,t(r)]]),n("span",Re,a(("t"in e?e.t:t(o))("hideAllowLinks")),1)])]),_:1}),s[15]||(s[15]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(o))("redirectMessage")),1)]),description:l(()=>[c(a(("t"in e?e.t:t(o))("redirectMessageDescription")),1)]),option:l(()=>[g(n("input",{type:"text","onUpdate:modelValue":s[8]||(s[8]=u=>f(k)?k.value=u:null),placeholder:("t"in e?e.t:t(o))("redirectMessagePlaceholder"),class:"input input-bordered w-2/3 mt-4"},null,8,qe),[[te,t(k)]])]),_:1}),s[16]||(s[16]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(o))("notifications")),1)]),description:l(()=>[c(a(("t"in e?e.t:t(o))("notificationsDescription")),1)]),option:l(()=>[m(ee)]),_:1}),s[17]||(s[17]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(o))("dataPrivacy")),1)]),option:l(()=>[n("label",ze,[g(n("input",{type:"checkbox","onUpdate:modelValue":s[9]||(s[9]=u=>f(C)?C.value=u:null),value:t(C),onChange:q,class:"checkbox checkbox-sm checkbox-primary mr-2"},null,40,Ke),[[_,t(C)]]),n("span",Je,a(("t"in e?e.t:t(o))("optOutOfDataCollection")),1)])]),_:1})],2)}}});export{ot as default};
